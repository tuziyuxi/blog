---
title: 前言
date: 2018-07-07 22:01:00
categories:
- Spring Data JPA 2.0.8 参考指南翻译
tags:
- Spring Data JPA
- 翻译
---

# 前言

Spring Data JPA提供了支持Java持久化API（JPA）的存储库。它简化了需要访问JPA数据源的应用程序的开发。

## 1.项目元数据

* 版本控制-[http://github.com/spring-projects/spring-data-jpa](http://github.com/spring-projects/spring-data-jpa)
* bug追踪-[ https://jira.spring.io/browse/DATAJPA]( https://jira.spring.io/browse/DATAJPA)
* 发行库- [https://repo.spring.io/libs-release](https://repo.spring.io/libs-release)
* 里程碑库 - [ https://repo.spring.io/libs-milestone]( https://repo.spring.io/libs-milestone)
* 快照库 - [https://repo.spring.io/libs-snapshot](https://repo.spring.io/libs-snapshot)

## 2. 更新和注意点

### 2.1 Spring Data JPA 1.11的新功能

Spring Data JPA 1.11 添加了下面特性：

* 改进了和Hibernate 5.2的兼容性
* 支持按事例查询的任意匹配模式
* 分页查询优化
* 支持在存储库查询派生出的已存在部分

### 2.2 Spring Data JPA 1.10的新功能

Spring Data JPA 1.10 添加下面的特性：

* 支持在存储库查询方法中的预测
* 支持按事例查询
* 已启用以下注释以构建composed注释：@EntityGraph,@Lock,@Modifying,@Query,@QueryHints,and @Procedure.
* 支持在集合表达式上使用Contains关键字
* JSR-310和ThreeTenBp的ZoneId的AttributeConverter实现
* 升级到Querydsl 4,Hibernate 5,OpenJPA 2.4,和EclipseLink 2.6.1

注：2.0.8的版本为什么这里还是1点几的新功能

## 3. 依赖

由于各个Spring Data模块不同的开始时间，它们大多数都有不同的主要版本号和次要版本号。找到兼容版本号最容易的方式是依赖我们跟随的兼容版本定义的Spring Data Release Train BOM。在Maven项目，你可以在POM文件的<dependencyManagement/>部分声明如下的依赖：


例子1：使用Spring Data Release Train BOM

```
<dependencyManagement>
  <dependencies>
    <dependency>
      <groupId>org.springframework.data</groupId>
      <artifactId>spring-data-releasetrain</artifactId>
      <version>${release-train}</version>
      <scope>import</scope>
      <type>pom</type>
    </dependency>
  </dependencies>
</dependencyManagement>
```

当前发行的系列版本是Kay-SR8.系列名称是字母的升序，[此处](https://github.com/spring-projects/spring-data-commons/wiki/Release-planning)列出了可用的系列。版本名称格式如：${name}-${release},其中的release可以是下列的其中一个：

* BUILD-SNAPSHOT:当前快照
* M1,M2..:里程碑版本
* RC1,RC2...：发行候选版本
* RELEASE：GA发行
* SR1，SR2...: 服务版本

在[Spring Data examples repository](https://github.com/spring-projects/spring-data-examples/tree/master/bom)可以找到使用BOMs的例子。有了这个，你可以在<dependencies>区块里声明你想要的Spring Data模块，而不需要版本，如下：

例子2：声明一个Spring Data模块的依赖

```
<dependencies>
  <dependency>
    <groupId>org.springframework.data</groupId>
    <artifactId>spring-data-jpa</artifactId>
  </dependency>
<dependencies>
```

注：例子中完整的POM.xml如下：

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>org.springframework.data.examples</groupId>
	<artifactId>spring-data-examples-bom</artifactId>
	<version>1.0.0.BUILD-SNAPSHOT</version>

	<name>Spring Data - Using the BOM for dependency management</name>

	<properties>
		<spring.version>5.0.2.RELEASE</spring.version>
		<spring-data.version>Kay-SR2</spring-data.version>
	</properties>

	<dependencyManagement>
		<dependencies>

			<dependency>
				<groupId>org.springframework</groupId>
				<artifactId>spring-framework-bom</artifactId>
				<version>${spring.version}</version>
				<scope>import</scope>
				<type>pom</type>
			</dependency>

			<dependency>
				<groupId>org.springframework.data</groupId>
				<artifactId>spring-data-releasetrain</artifactId>
				<version>${spring-data.version}</version>
				<scope>import</scope>
				<type>pom</type>
			</dependency>

		</dependencies>

	</dependencyManagement>

	<dependencies>

		<dependency>
			<groupId>org.springframework.data</groupId>
			<artifactId>spring-data-rest-webmvc</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.data</groupId>
			<artifactId>spring-data-jpa</artifactId>
		</dependency>

	</dependencies>

</project>
```

### 3.1 Spring Boot的依赖管理

Spring Boot 为你选择一个Spring Data模块的当前版本。如果你依然想升级一个更新的版本，配置spring-data-releasetrain.verson参数你想要使用的系列名称和迭代版本。

### 3.2 Spring框架

Spring Data模块当前版本要求Spring Framework版本5.0.7以上。这些模块也可以使用次要版本的老板，但是，强烈建议使用该代中的最新版本。


